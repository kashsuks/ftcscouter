import{f as R,a as I}from"../chunks/DIiWqC8O.js";import"../chunks/DNJaTekU.js";import{A as me,q as y,L as aa,n as Se,x as Ta,w as ta,g as t,ar as Aa,y as wa,H as Ca,z as Je,B as he,s as de,X as ra,ak as Da,a2 as We,j as se,o as ye,v as Ma,aG as la,ai as Le,aH as ka,S as Xe,aC as te,aI as Ia,aJ as Ra,aK as ya,aL as K,k as na,p as sa,aM as Me,W as oa,ae as Fe,aN as Fa,ah as Oa,m as La,aO as Ha,aP as xa,aQ as Ua,aR as Va,aS as Pa,aE as $a,b as za,U as Ba,aT as Ga,C as qa,G as Ka,I as _,am as Ya,K as g,J as d,at as V,aU as W,aV as Ja,D as ce,a3 as Wa,F as X}from"../chunks/DlhiEStZ.js";import{e as S,s as le}from"../chunks/DMMsWnP4.js";import{i as ne}from"../chunks/DMvSGo1W.js";import{i as Xa}from"../chunks/dViADTU8.js";function Ee(e,r){return r}function Qa(e,r,l){for(var n=[],i=r.length,a,o=r.length,f=0;f<i;f++){let F=r[f];sa(F,()=>{if(a){if(a.pending.delete(F),a.done.add(F),a.pending.size===0){var T=e.outrogroups;Oe(Le(a.done)),T.delete(a),T.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var c=n.length===0&&l!==null;if(c){var b=l,m=b.parentNode;Oa(m),m.append(b),e.items.clear()}Oe(r,!c)}else a={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(a)}function Oe(e,r=!0){for(var l=0;l<e.length;l++)La(e[l],r)}var Qe;function Ne(e,r,l,n,i,a=null){var o=e,f=new Map,c=(r&la)!==0;if(c){var b=e;o=y?me(aa(b)):b.appendChild(Se())}y&&Ta();var m=null,F=Aa(()=>{var h=l();return ka(h)?h:h==null?[]:Le(h)}),T,C=!0;function z(){s.fallback=m,Za(s,T,o,r,n),m!==null&&(T.length===0?(m.f&K)===0?na(m):(m.f^=K,_e(m,null,o)):sa(m,()=>{m=null}))}var Y=ta(()=>{T=t(F);var h=T.length;let J=!1;if(y){var H=wa(o)===Ca;H!==(h===0)&&(o=Je(),me(o),he(!1),J=!0)}for(var D=new Set,L=se,P=Ma(),M=0;M<h;M+=1){y&&de.nodeType===ra&&de.data===Da&&(o=de,J=!0,he(!1));var x=T[M],$=n(x,M),w=C?null:f.get($);w?(w.v&&We(w.v,x),w.i&&We(w.i,M),P&&L.skipped_effects.delete(w.e)):(w=ja(f,C?o:Qe??=Se(),x,$,M,i,r,l),C||(w.e.f|=K),f.set($,w)),D.add($)}if(h===0&&a&&!m&&(C?m=ye(()=>a(o)):(m=ye(()=>a(Qe??=Se())),m.f|=K)),y&&h>0&&me(Je()),!C)if(P){for(const[Te,Ae]of f)D.has(Te)||L.skipped_effects.add(Ae.e);L.oncommit(z),L.ondiscard(()=>{})}else z();J&&he(!0),t(F)}),s={effect:Y,items:f,outrogroups:null,fallback:m};C=!1,y&&(o=de)}function Za(e,r,l,n,i){var a=(n&Fa)!==0,o=r.length,f=e.items,c=e.effect.first,b,m=null,F,T=[],C=[],z,Y,s,h;if(a)for(h=0;h<o;h+=1)z=r[h],Y=i(z,h),s=f.get(Y).e,(s.f&K)===0&&(s.nodes?.a?.measure(),(F??=new Set).add(s));for(h=0;h<o;h+=1){if(z=r[h],Y=i(z,h),s=f.get(Y).e,e.outrogroups!==null)for(const w of e.outrogroups)w.pending.delete(s),w.done.delete(s);if((s.f&K)!==0)if(s.f^=K,s===c)_e(s,null,l);else{var J=m?m.next:c;s===e.effect.last&&(e.effect.last=s.prev),s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),Q(e,m,s),Q(e,s,J),_e(s,J,l),m=s,T=[],C=[],c=m.next;continue}if((s.f&Me)!==0&&(na(s),a&&(s.nodes?.a?.unfix(),(F??=new Set).delete(s))),s!==c){if(b!==void 0&&b.has(s)){if(T.length<C.length){var H=C[0],D;m=H.prev;var L=T[0],P=T[T.length-1];for(D=0;D<T.length;D+=1)_e(T[D],H,l);for(D=0;D<C.length;D+=1)b.delete(C[D]);Q(e,L.prev,P.next),Q(e,m,L),Q(e,P,H),c=H,m=P,h-=1,T=[],C=[]}else b.delete(s),_e(s,c,l),Q(e,s.prev,s.next),Q(e,s,m===null?e.effect.first:m.next),Q(e,m,s),m=s;continue}for(T=[],C=[];c!==null&&c!==s;)(b??=new Set).add(c),C.push(c),c=c.next;if(c===null)continue}(s.f&K)===0&&T.push(s),m=s,c=s.next}if(e.outrogroups!==null){for(const w of e.outrogroups)w.pending.size===0&&(Oe(Le(w.done)),e.outrogroups?.delete(w));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||b!==void 0){var M=[];if(b!==void 0)for(s of b)(s.f&Me)===0&&M.push(s);for(;c!==null;)(c.f&Me)===0&&c!==e.fallback&&M.push(c),c=c.next;var x=M.length;if(x>0){var $=(n&la)!==0&&o===0?l:null;if(a){for(h=0;h<x;h+=1)M[h].nodes?.a?.measure();for(h=0;h<x;h+=1)M[h].nodes?.a?.fix()}Qa(e,M,$)}}a&&oa(()=>{if(F!==void 0)for(s of F)s.nodes?.a?.apply()})}function ja(e,r,l,n,i,a,o,f){var c=(o&Ra)!==0?(o&ya)===0?te(l,!1,!1):Xe(l):null,b=(o&Ia)!==0?Xe(i):null;return{v:c,i:b,e:ye(()=>(a(r,c??l,b??i,f),()=>{e.delete(n)}))}}function _e(e,r,l){if(e.nodes)for(var n=e.nodes.start,i=e.nodes.end,a=r&&(r.f&K)===0?r.nodes.start:l;n!==null;){var o=Fe(n);if(a.before(n),n===i)return;n=o}}function Q(e,r,l){r===null?e.effect.first=l:r.next=l,l===null?e.effect.last=r:l.prev=r}function et(e,r){let l=null,n=y;var i;if(y){l=de;for(var a=aa(document.head);a!==null&&(a.nodeType!==ra||a.data!==e);)a=Fe(a);if(a===null)he(!1);else{var o=Fe(a);a.remove(),me(o)}}y||(i=document.head.appendChild(Se()));try{ta(()=>r(i),Ha)}finally{n&&(he(!0),me(l))}}const Ze=[...` 	
\r\f \v\uFEFF`];function at(e,r,l){var n=e==null?"":""+e;if(l){for(var i in l)if(l[i])n=n?n+" "+i:i;else if(n.length)for(var a=i.length,o=0;(o=n.indexOf(i,o))>=0;){var f=o+a;(o===0||Ze.includes(n[o-1]))&&(f===n.length||Ze.includes(n[f]))?n=(o===0?"":n.substring(0,o))+n.substring(f+1):o=f}}return n===""?null:n}function fe(e,r,l,n,i,a){var o=e.__className;if(y||o!==l||o===void 0){var f=at(l,n,a);(!y||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):e.className=f),e.__className=l}else if(a&&i!==a)for(var c in a){var b=!!a[c];(i==null||b!==!!i[c])&&e.classList.toggle(c,b)}return a}const tt=Symbol("is custom element"),rt=Symbol("is html");function je(e){if(y){var r=!1,l=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var n=e.value;ea(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var i=e.checked;ea(e,"checked",null),e.checked=i}}};e.__on_r=l,oa(l),xa()}}function lt(e,r){var l=ia(e);l.value===(l.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function ea(e,r,l,n){var i=ia(e);y&&(i[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||i[r]!==(i[r]=l)&&(r==="loading"&&(e[Ua]=l),e.removeAttribute(r))}function ia(e){return e.__attributes??={[tt]:e.nodeName.includes("-"),[rt]:e.namespaceURI===Va}}function nt(e,r,l=r){var n=new WeakSet;Pa(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=ke(e)?Ie(a):a,l(a),se!==null&&n.add(se),await $a(),a!==(a=r())){var o=e.selectionStart,f=e.selectionEnd,c=e.value.length;if(e.value=a??"",f!==null){var b=e.value.length;o===f&&f===c&&b>c?(e.selectionStart=b,e.selectionEnd=b):(e.selectionStart=o,e.selectionEnd=Math.min(f,b))}}}),(y&&e.defaultValue!==e.value||za(r)==null&&e.value)&&(l(ke(e)?Ie(e.value):e.value),se!==null&&n.add(se)),Ba(()=>{var i=r();if(e===document.activeElement){var a=Ga??se;if(n.has(a))return}ke(e)&&i===Ie(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ke(e){var r=e.type;return r==="number"||r==="range"}function Ie(e){return e===""?null:+e}const st="https://api.ftcscout.org/rest/v1",ot=2025;async function it(e,r=ot){try{const l=`${st}/events/${r}/${e}/teams`;console.log(`Fetching teams from: ${l}`);const n=await fetch(l);if(!n.ok)throw new Error(`Failed to fetch event data: ${n.statusText} (${n.status})`);const i=await n.json();return console.log("=== EVENT TEAMS ==="),console.log(`Event code: ${e}`),console.log(`Season: ${r}`),console.log(`Total teams: ${i.length}`),console.log("Teams:",i),{eventCode:e,teams:i}}catch(l){throw console.error("Error fetching event data:",l),l}}function vt(e){return e.trim().length>0&&/^[A-Z0-9]+$/i.test(e.trim())}function ut(){return prompt("Enter column name:")?.trim()||null}function Re(e){alert(e)}var ct=R('<th><div class="th-content"><span> </span> <button class="delete-col-btn">×</button></div></th>'),ft=R('<td><input type="text" class="cell-input"/></td>'),dt=R('<tr draggable="true"><td class="number-cell draggable-cell"><span class="drag-handle">⋮⋮</span> </td><!><td class="actions-cell"><button class="delete-row-btn">Delete</button></td></tr>'),_t=R('<span class="slot-team"> </span> <button class="clear-slot">×</button>',1),mt=R('<span class="slot-placeholder">Drop team 1</span>'),ht=R('<span class="slot-team"> </span> <button class="clear-slot">×</button>',1),pt=R('<span class="slot-placeholder">Drop team 2</span>'),bt=R('<span class="slot-team"> </span> <button class="clear-slot">×</button>',1),gt=R('<span class="slot-placeholder">Drop team 1</span>'),Et=R('<span class="slot-team"> </span> <button class="clear-slot">×</button>',1),Nt=R('<span class="slot-placeholder">Drop team 2</span>'),St=R('<button class="delete-matchup-btn">×</button>'),Tt=R('<div class="matchup-row"><div class="matchup-content"><div class="alliance red-alliance"><div class="alliance-label">Red Alliance</div> <div class="alliance-slots"><div role="button" tabindex="0"><!></div> <div role="button" tabindex="0"><!></div></div></div> <div class="vs-separator">VS</div> <div class="alliance blue-alliance"><div class="alliance-label">Blue Alliance</div> <div class="alliance-slots"><div role="button" tabindex="0"><!></div> <div role="button" tabindex="0"><!></div></div></div></div> <!></div>'),At=R('<div class="table-section"><div class="table-header"><h3 class="table-title">Teams</h3> <div class="table-actions"><button class="add-col-btn" title="Add Column">+</button> <button class="add-row-btn-small" title="Add Row">+</button></div></div> <div class="table-container"><table class="data-table"><thead><tr><th>Number</th><!><th class="actions-header"></th></tr></thead><tbody></tbody></table></div></div> <div class="matchups-section"><div class="matchups-header"><h3 class="table-title">Matchups</h3> <button class="add-matchup-btn" title="Add Matchup">+</button></div> <p class="matchup-hint">Drag teams from the table above and drop them into the slots below</p> <div class="matchups-container"></div></div>',1),wt=R('<div class="app-container"><div class="header"><h1 class="app-title">FTCScouter</h1> <p class="app-subtitle">Scout the right way</p></div> <div class="content-area"><h2 class="section-title">Enter Event Code</h2> <div class="input-group"><input type="text" placeholder="e.g., USMIDET" class="event-input"/> <button class="fetch-btn">Fetch Event Data</button></div> <!></div></div>');function yt(e,r){qa(r,!1);let l=te(""),n=te([]),i=te([]),a=te({}),o=te([{red1:"",red2:"",blue1:"",blue2:""}]),f=te(null);async function c(){if(!t(l).trim()){Re("Please enter an event code");return}if(!vt(t(l))){Re("Invalid event code format");return}try{const v=await it(t(l));V(n,v.teams),t(n).forEach(p=>{t(a)[p.teamNumber]||W(a,t(a)[p.teamNumber]={})})}catch(v){Re("Failed to fetch event data. Please try again."),console.error(v)}}function b(){const v=ut();v&&(V(i,[...t(i),v]),t(n).forEach(p=>{t(a)[p.teamNumber]||W(a,t(a)[p.teamNumber]={}),W(a,t(a)[p.teamNumber][v]="")}))}function m(v){V(i,t(i).filter(p=>p!==v)),t(n).forEach(p=>{t(a)[p.teamNumber]&&delete t(a)[p.teamNumber][v]})}function F(){const v=prompt("Enter team number:");if(v){const p=parseInt(v);if(!isNaN(p)){const O={teamNumber:p,season:2025,eventCode:t(l)};V(n,[...t(n),O]),W(a,t(a)[p]={}),t(i).forEach(oe=>{W(a,t(a)[p][oe]="")})}}}function T(v){V(n,t(n).filter(p=>p.teamNumber!==v)),delete t(a)[v]}function C(v,p,O){t(a)[v]||W(a,t(a)[v]={}),W(a,t(a)[v][p]=O)}function z(){V(o,[...t(o),{red1:"",red2:"",blue1:"",blue2:""}])}function Y(v){t(o).length>1&&V(o,t(o).filter((p,O)=>O!==v))}function s(v,p,O){W(o,t(o)[v][p]=O)}function h(v){V(f,v)}function J(){V(f,null)}function H(v){v.preventDefault()}function D(v,p,O){v.preventDefault(),t(f)!==null&&(s(p,O,String(t(f))),V(f,null))}function L(v,p){s(v,p,"")}Xa();var P=wt();et("1uha8ag",v=>{Ya(()=>{Ja.title="FTCScouter"})});var M=g(_(P),2),x=g(_(M),2),$=_(x);je($);var w=g($,2);d(x);var Te=g(x,2);{var Ae=v=>{var p=At(),O=ce(p),oe=_(O),He=g(_(oe),2),xe=_(He),va=g(xe,2);d(He),d(oe);var Ue=g(oe,2),Ve=_(Ue),we=_(Ve),Pe=_(we),ua=g(_(Pe));Ne(ua,1,()=>t(i),Ee,(ie,E)=>{var A=ct(),B=_(A),U=_(B),Z=_(U,!0);d(U);var j=g(U,2);d(B),d(A),X(()=>le(Z,t(E))),S("click",j,()=>m(t(E))),I(ie,A)}),Wa(),d(Pe),d(we);var $e=g(we);Ne($e,5,()=>t(n),Ee,(ie,E)=>{var A=dt();let B;var U=_(A),Z=g(_(U));d(U);var j=g(U);Ne(j,1,()=>t(i),Ee,(De,be)=>{var ve=ft(),q=_(ve);je(q),d(ve),X(()=>lt(q,t(a)[t(E).teamNumber]?.[t(be)]||"")),S("input",q,ge=>C(t(E).teamNumber,t(be),ge.currentTarget.value)),I(De,ve)});var G=g(j),pe=_(G);d(G),d(A),X(()=>{B=fe(A,1,"",null,B,{dragging:t(f)===t(E).teamNumber}),le(Z,` ${t(E).teamNumber??""}`)}),S("click",pe,()=>T(t(E).teamNumber)),S("dragstart",A,()=>h(t(E).teamNumber)),S("dragend",A,J),I(ie,A)}),d($e),d(Ve),d(Ue),d(O);var ze=g(O,2),Ce=_(ze),ca=g(_(Ce),2);d(Ce);var Be=g(Ce,4);Ne(Be,5,()=>t(o),Ee,(ie,E,A)=>{var B=Tt(),U=_(B),Z=_(U),j=g(_(Z),2),G=_(j);let pe;var De=_(G);{var be=u=>{var N=_t(),k=ce(N),ee=_(k,!0);d(k);var ae=g(k,2);X(()=>le(ee,t(E).red1)),S("click",ae,()=>L(A,"red1")),I(u,N)},ve=u=>{var N=mt();I(u,N)};ne(De,u=>{t(E).red1?u(be):u(ve,!1)})}d(G);var q=g(G,2);let ge;var fa=_(q);{var da=u=>{var N=ht(),k=ce(N),ee=_(k,!0);d(k);var ae=g(k,2);X(()=>le(ee,t(E).red2)),S("click",ae,()=>L(A,"red2")),I(u,N)},_a=u=>{var N=pt();I(u,N)};ne(fa,u=>{t(E).red2?u(da):u(_a,!1)})}d(q),d(j),d(Z);var Ge=g(Z,4),qe=g(_(Ge),2),re=_(qe);let Ke;var ma=_(re);{var ha=u=>{var N=bt(),k=ce(N),ee=_(k,!0);d(k);var ae=g(k,2);X(()=>le(ee,t(E).blue1)),S("click",ae,()=>L(A,"blue1")),I(u,N)},pa=u=>{var N=gt();I(u,N)};ne(ma,u=>{t(E).blue1?u(ha):u(pa,!1)})}d(re);var ue=g(re,2);let Ye;var ba=_(ue);{var ga=u=>{var N=Et(),k=ce(N),ee=_(k,!0);d(k);var ae=g(k,2);X(()=>le(ee,t(E).blue2)),S("click",ae,()=>L(A,"blue2")),I(u,N)},Ea=u=>{var N=Nt();I(u,N)};ne(ba,u=>{t(E).blue2?u(ga):u(Ea,!1)})}d(ue),d(qe),d(Ge),d(U);var Na=g(U,2);{var Sa=u=>{var N=St();S("click",N,()=>Y(A)),I(u,N)};ne(Na,u=>{t(o).length>1&&u(Sa)})}d(B),X(()=>{pe=fe(G,1,"team-slot red-slot",null,pe,{"has-team":t(E).red1}),ge=fe(q,1,"team-slot red-slot",null,ge,{"has-team":t(E).red2}),Ke=fe(re,1,"team-slot blue-slot",null,Ke,{"has-team":t(E).blue1}),Ye=fe(ue,1,"team-slot blue-slot",null,Ye,{"has-team":t(E).blue2})}),S("dragover",G,H),S("drop",G,u=>D(u,A,"red1")),S("dragover",q,H),S("drop",q,u=>D(u,A,"red2")),S("dragover",re,H),S("drop",re,u=>D(u,A,"blue1")),S("dragover",ue,H),S("drop",ue,u=>D(u,A,"blue2")),I(ie,B)}),d(Be),d(ze),S("click",xe,b),S("click",va,F),S("click",ca,z),I(v,p)};ne(Te,v=>{t(n).length>0&&v(Ae)})}d(M),d(P),nt($,()=>t(l),v=>V(l,v)),S("click",w,c),I(e,P),Ka()}export{yt as component};
