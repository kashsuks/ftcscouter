import{f as G,a as q}from"../chunks/CJfmrxsp.js";import"../chunks/jUdGoecS.js";import{A as te,q as I,L as $e,n as fe,x as Ye,w as Le,g as l,am as Ke,y as We,H as Xe,z as ke,B as re,s as ee,X as Oe,ak as Je,a2 as Ie,j as W,o as be,v as Ze,an as He,ai as Te,ao as Qe,S as Me,ap as X,aq as je,ar as ea,as as aa,at as B,k as Be,p as Ue,au as pe,W as ze,ae as ge,av as ta,ah as ra,m as na,aw as la,ax as sa,ay as ia,az as oa,aA as ua,aB as ca,b as fa,U as va,aC as da,C as pa,G as ha,I as g,aD as ma,K as E,J as h,aE as z,aF as V,aG as _a,D as ba,a3 as ga,F as oe}from"../chunks/fdhNSSoQ.js";import{e as k,s as Re}from"../chunks/dR5Ql14Y.js";import{i as xe}from"../chunks/xEMAyBQU.js";import{i as Ea}from"../chunks/ClYFTyhp.js";function ue(e,t){return t}function Ta(e,t,r){for(var i=[],o=t.length,a,u=t.length,_=0;_<o;_++){let A=t[_];Ue(A,()=>{if(a){if(a.pending.delete(A),a.done.add(A),a.pending.size===0){var b=e.outrogroups;Ee(Te(a.done)),b.delete(a),b.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var c=i.length===0&&r!==null;if(c){var p=r,v=p.parentNode;ra(v),v.append(p),e.items.clear()}Ee(t,!c)}else a={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(a)}function Ee(e,t=!0){for(var r=0;r<e.length;r++)na(e[r],t)}var De;function ce(e,t,r,i,o,a=null){var u=e,_=new Map,c=(t&He)!==0;if(c){var p=e;u=I?te($e(p)):p.appendChild(fe())}I&&Ye();var v=null,A=Ke(()=>{var d=r();return Qe(d)?d:d==null?[]:Te(d)}),b,N=!0;function F(){n.fallback=v,Na(n,b,u,t,i),v!==null&&(b.length===0?(v.f&B)===0?Be(v):(v.f^=B,ae(v,null,u)):Ue(v,()=>{v=null}))}var M=Le(()=>{b=l(A);var d=b.length;let R=!1;if(I){var x=We(u)===Xe;x!==(d===0)&&(u=ke(),te(u),re(!1),R=!0)}for(var C=new Set,$=W,U=Ze(),s=0;s<d;s+=1){I&&ee.nodeType===Oe&&ee.data===Je&&(u=ee,R=!0,re(!1));var f=b[s],T=i(f,s),m=N?null:_.get(T);m?(m.v&&Ie(m.v,f),m.i&&Ie(m.i,s),U&&$.skipped_effects.delete(m.e)):(m=Sa(_,N?u:De??=fe(),f,T,s,o,t,r),N||(m.e.f|=B),_.set(T,m)),C.add(T)}if(d===0&&a&&!v&&(N?v=be(()=>a(u)):(v=be(()=>a(De??=fe())),v.f|=B)),I&&d>0&&te(ke()),!N)if(U){for(const[ne,le]of _)C.has(ne)||$.skipped_effects.add(le.e);$.oncommit(F),$.ondiscard(()=>{})}else F();R&&re(!0),l(A)}),n={effect:M,items:_,outrogroups:null,fallback:v};N=!1,I&&(u=ee)}function Na(e,t,r,i,o){var a=(i&ta)!==0,u=t.length,_=e.items,c=e.effect.first,p,v=null,A,b=[],N=[],F,M,n,d;if(a)for(d=0;d<u;d+=1)F=t[d],M=o(F,d),n=_.get(M).e,(n.f&B)===0&&(n.nodes?.a?.measure(),(A??=new Set).add(n));for(d=0;d<u;d+=1){if(F=t[d],M=o(F,d),n=_.get(M).e,e.outrogroups!==null)for(const m of e.outrogroups)m.pending.delete(n),m.done.delete(n);if((n.f&B)!==0)if(n.f^=B,n===c)ae(n,null,r);else{var R=v?v.next:c;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),P(e,v,n),P(e,n,R),ae(n,R,r),v=n,b=[],N=[],c=v.next;continue}if((n.f&pe)!==0&&(Be(n),a&&(n.nodes?.a?.unfix(),(A??=new Set).delete(n))),n!==c){if(p!==void 0&&p.has(n)){if(b.length<N.length){var x=N[0],C;v=x.prev;var $=b[0],U=b[b.length-1];for(C=0;C<b.length;C+=1)ae(b[C],x,r);for(C=0;C<N.length;C+=1)p.delete(N[C]);P(e,$.prev,U.next),P(e,v,$),P(e,U,x),c=x,v=U,d-=1,b=[],N=[]}else p.delete(n),ae(n,c,r),P(e,n.prev,n.next),P(e,n,v===null?e.effect.first:v.next),P(e,v,n),v=n;continue}for(b=[],N=[];c!==null&&c!==n;)(p??=new Set).add(c),N.push(c),c=c.next;if(c===null)continue}(n.f&B)===0&&b.push(n),v=n,c=n.next}if(e.outrogroups!==null){for(const m of e.outrogroups)m.pending.size===0&&(Ee(Te(m.done)),e.outrogroups?.delete(m));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||p!==void 0){var s=[];if(p!==void 0)for(n of p)(n.f&pe)===0&&s.push(n);for(;c!==null;)(c.f&pe)===0&&c!==e.fallback&&s.push(c),c=c.next;var f=s.length;if(f>0){var T=(i&He)!==0&&u===0?r:null;if(a){for(d=0;d<f;d+=1)s[d].nodes?.a?.measure();for(d=0;d<f;d+=1)s[d].nodes?.a?.fix()}Ta(e,s,T)}}a&&ze(()=>{if(A!==void 0)for(n of A)n.nodes?.a?.apply()})}function Sa(e,t,r,i,o,a,u,_){var c=(u&ea)!==0?(u&aa)===0?X(r,!1,!1):Me(r):null,p=(u&je)!==0?Me(o):null;return{v:c,i:p,e:be(()=>(a(t,c??r,p??o,_),()=>{e.delete(i)}))}}function ae(e,t,r){if(e.nodes)for(var i=e.nodes.start,o=e.nodes.end,a=t&&(t.f&B)===0?t.nodes.start:r;i!==null;){var u=ge(i);if(a.before(i),i===o)return;i=u}}function P(e,t,r){t===null?e.effect.first=r:t.next=r,r===null?e.effect.last=t:r.prev=t}function Aa(e,t){let r=null,i=I;var o;if(I){r=ee;for(var a=$e(document.head);a!==null&&(a.nodeType!==Oe||a.data!==e);)a=ge(a);if(a===null)re(!1);else{var u=ge(a);a.remove(),te(u)}}I||(o=document.head.appendChild(fe()));try{Le(()=>t(o),la)}finally{i&&(re(!0),te(r))}}const Ca=Symbol("is custom element"),wa=Symbol("is html");function K(e){if(I){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var i=e.value;Fe(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var o=e.checked;Fe(e,"checked",null),e.checked=o}}};e.__on_r=r,ze(r),sa()}}function j(e,t){var r=Ve(e);r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Fe(e,t,r,i){var o=Ve(e);I&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=r)&&(t==="loading"&&(e[ia]=r),e.removeAttribute(t))}function Ve(e){return e.__attributes??={[Ca]:e.nodeName.includes("-"),[wa]:e.namespaceURI===oa}}function ya(e,t,r=t){var i=new WeakSet;ua(e,"input",async o=>{var a=o?e.defaultValue:e.value;if(a=he(e)?me(a):a,r(a),W!==null&&i.add(W),await ca(),a!==(a=t())){var u=e.selectionStart,_=e.selectionEnd,c=e.value.length;if(e.value=a??"",_!==null){var p=e.value.length;u===_&&_===c&&p>c?(e.selectionStart=p,e.selectionEnd=p):(e.selectionStart=u,e.selectionEnd=Math.min(_,p))}}}),(I&&e.defaultValue!==e.value||fa(t)==null&&e.value)&&(r(he(e)?me(e.value):e.value),W!==null&&i.add(W)),va(()=>{var o=t();if(e===document.activeElement){var a=da??W;if(i.has(a))return}he(e)&&o===me(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function he(e){var t=e.type;return t==="number"||t==="range"}function me(e){return e===""?null:+e}const ka="https://api.ftcscout.org/rest/v1",Ia=2025;async function Ma(e,t=Ia){try{const r=`${ka}/events/${t}/${e}/teams`;console.log(`Fetching teams from: ${r}`);const i=await fetch(r);if(!i.ok)throw new Error(`Failed to fetch event data: ${i.statusText} (${i.status})`);const o=await i.json();return console.log("=== EVENT TEAMS ==="),console.log(`Event code: ${e}`),console.log(`Season: ${t}`),console.log(`Total teams: ${o.length}`),console.log("Teams:",o),{eventCode:e,teams:o}}catch(r){throw console.error("Error fetching event data:",r),r}}function Ra(e){return e.trim().length>0&&/^[A-Z0-9]+$/i.test(e.trim())}function xa(){return prompt("Enter column name:")?.trim()||null}function _e(e){alert(e)}var Da=G('<th><div class="th-content"><span> </span> <button class="delete-col-btn">Ã—</button></div></th>'),Fa=G('<td><input type="text" class="cell-input"/></td>'),$a=G('<tr><td class="number-cell"> </td><!><td class="actions-cell"><button class="delete-row-btn">Delete</button></td></tr>'),La=G('<button class="delete-matchup-btn">x</button>'),Oa=G('<div class="matchup-row"><div class="matchup-alliance red-alliance"><input type="text" class="matchup-input red-input" placeholder="Red 1"/> <input type="text" class="matchup-input red-input" placeholder="Red 2"/> <input type="text" class="matchup-input blue-input" placeholder="Blue 1"/> <input type="text" class="matchup-input blue-input" placeholder="Blue 2"/></div> <!></div>'),Ha=G('<div class="table-section"><div class="table-header"><h3 class="table-title">Teams</h3> <div class="table-actions"><button class="add-col-btn" title="Add Column">+</button> <button class="add-row-btn-small" title="Add Row">+</button></div></div> <div class="table-container"><table class="data-table"><thead><tr><th>Number</th><!><th class="actions-header"></th></tr></thead><tbody></tbody></table></div></div> <div class="matchups-section"><div class="matchups-header"><h3 class="table-title">Matchups</h3> <button class="add-matchup-btn" title="Add Matchup">+</button></div> <div class="matchups-container"></div></div>',1),Ba=G('<div class="app-container"><div class="header"><h1 class="app-title">FTCScouter</h1> <p class="app-subtitle">Scout the right way</p></div> <div class="content-area"><h2 class="section-title">Enter Event Code</h2> <div class="input-group"><input type="text" placeholder="e.g., USMIDET" class="event-input"/> <button class="fetch-btn">Fetch Event Data</button></div> <!></div></div>');function Ya(e,t){pa(t,!1);let r=X(""),i=X([]),o=X([]),a=X({}),u=X([{red1:"",red2:"",blue1:"",blue2:""}]);async function _(){if(!l(r).trim()){_e("Please enter an event code");return}if(!Ra(l(r))){_e("Invalid event code format");return}try{const s=await Ma(l(r));z(i,s.teams),l(i).forEach(f=>{l(a)[f.teamNumber]||V(a,l(a)[f.teamNumber]={})})}catch(s){_e("Failed to fetch event data. Please try again."),console.error(s)}}function c(){const s=xa();s&&(z(o,[...l(o),s]),l(i).forEach(f=>{l(a)[f.teamNumber]||V(a,l(a)[f.teamNumber]={}),V(a,l(a)[f.teamNumber][s]="")}))}function p(s){z(o,l(o).filter(f=>f!==s)),l(i).forEach(f=>{l(a)[f.teamNumber]&&delete l(a)[f.teamNumber][s]})}function v(){const s=prompt("Enter team number:");if(s){const f=parseInt(s);if(!isNaN(f)){const T={teamNumber:f,season:2025,eventCode:l(r)};z(i,[...l(i),T]),V(a,l(a)[f]={}),l(o).forEach(m=>{V(a,l(a)[f][m]="")})}}}function A(s){z(i,l(i).filter(f=>f.teamNumber!==s)),delete l(a)[s]}function b(s,f,T){l(a)[s]||V(a,l(a)[s]={}),V(a,l(a)[s][f]=T)}function N(){z(u,[...l(u),{red1:"",red2:"",blue1:"",blue2:""}])}function F(s){l(u).length>1&&z(u,l(u).filter((f,T)=>T!==s))}function M(s,f,T){V(u,l(u)[s][f]=T)}Ea();var n=Ba();Aa("1uha8ag",s=>{ma(()=>{_a.title="FTCScouter"})});var d=E(g(n),2),R=E(g(d),2),x=g(R);K(x);var C=E(x,2);h(R);var $=E(R,2);{var U=s=>{var f=Ha(),T=ba(f),m=g(T),ne=E(g(m),2),le=g(ne),Pe=E(le,2);h(ne),h(m);var Ne=E(m,2),Se=g(Ne),ve=g(Se),Ae=g(ve),qe=E(g(Ae));ce(qe,1,()=>l(o),ue,(J,y)=>{var w=Da(),D=g(w),L=g(D),O=g(L,!0);h(L);var H=E(L,2);h(D),h(w),oe(()=>Re(O,l(y))),k("click",H,()=>p(l(y))),q(J,w)}),ga(),h(Ae),h(ve);var Ce=E(ve);ce(Ce,5,()=>l(i),ue,(J,y)=>{var w=$a(),D=g(w),L=g(D,!0);h(D);var O=E(D);ce(O,1,()=>l(o),ue,(Z,se)=>{var Q=Fa(),S=g(Q);K(S),h(Q),oe(()=>j(S,l(a)[l(y).teamNumber]?.[l(se)]||"")),k("input",S,ie=>b(l(y).teamNumber,l(se),ie.currentTarget.value)),q(Z,Q)});var H=E(O),Y=g(H);h(H),h(w),oe(()=>Re(L,l(y).teamNumber)),k("click",Y,()=>A(l(y).teamNumber)),q(J,w)}),h(Ce),h(Se),h(Ne),h(T);var we=E(T,2),de=g(we),Ge=E(g(de),2);h(de);var ye=E(de,2);ce(ye,5,()=>l(u),ue,(J,y,w)=>{var D=Oa(),L=g(D),O=g(L);K(O);var H=E(O,2);K(H);var Y=E(H,2);K(Y);var Z=E(Y,2);K(Z),h(L);var se=E(L,2);{var Q=S=>{var ie=La();k("click",ie,()=>F(w)),q(S,ie)};xe(se,S=>{l(u).length>1&&S(Q)})}h(D),oe(()=>{j(O,l(y).red1),j(H,l(y).red2),j(Y,l(y).blue1),j(Z,l(y).blue2)}),k("input",O,S=>M(w,"red1",S.currentTarget.value)),k("input",H,S=>M(w,"red2",S.currentTarget.value)),k("input",Y,S=>M(w,"blue1",S.currentTarget.value)),k("input",Z,S=>M(w,"blue2",S.currentTarget.value)),q(J,D)}),h(ye),h(we),k("click",le,c),k("click",Pe,v),k("click",Ge,N),q(s,f)};xe($,s=>{l(i).length>0&&s(U)})}h(d),h(n),ya(x,()=>l(r),s=>z(r,s)),k("click",C,_),q(e,n),ha()}export{Ya as component};
